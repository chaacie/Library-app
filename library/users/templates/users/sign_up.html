{% extends "base.html" %}
{% block content %}
<h2>Регистрация</h2>
<form method="post">
    {% csrf_token %}
    <div class="form-group">
        <label for="exampleFormControlSelect1">Имя пользователя</label>
        {{ form.username }}
        {{ form.username.errors }}
    </div>
    <div class="form-group">
        <label for="exampleFormControlSelect1">Введите пароль</label>
        {{ form.password1 }}
        {{ form.password1.errors }}
    </div>
    <div class="form-group">
        <label for="exampleFormControlSelect1">Подтвердите пароль</label>
        {{ form.password2 }}
        {{ form.password2.errors }}
    </div>
    <div class="form-group">
        <label for="exampleFormControlSelect1">Имя</label>
        {{ form.first_name }}
        {{ form.first_name.errors }}
    </div>
    <div class="form-group">
        <label for="exampleFormControlSelect1">Фамилия</label>
        {{ form.last_name }}
        {{ form.last_name.errors }}
    </div>
    <div class="form-group">
        <label for="exampleFormControlSelect1">Вы библиотекарь?</label>
        {{ form.is_librian }}
        {{ form.is_librian.errors }}
    </div>


    <div class="form-group" id="librian_number_field" style="display:none;">
        <label for="exampleFormControlSelect1">Номер библиотекаря</label>
        {{ form.librian_number }}
        {{ form.librian_number.errors }}
    </div>


    <div class="form-group" id="address_field" style="display:none;">
        <label for="exampleFormControlSelect1">Адресс</label>
        {{ form.address }}
        {{ form.address.errors }}
    </div>

    <button type="submit" class="btn btn-success">Зарегистрироваться</button>
</form>

<!-- JavaScript для управления видимостью полей -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var isLibrarianCheckbox = document.getElementById("id_is_librian");
        var employeeNumberField = document.getElementById("librian_number_field");
        var addressField = document.getElementById("address_field");
        console.log(isLibrarianCheckbox)
        console.log(employeeNumberField)
        console.log(addressField)

        function toggleFields() {
            if (isLibrarianCheckbox.checked) {
                employeeNumberField.style.display = "block";
                addressField.style.display = "none";
            } else {
                employeeNumberField.style.display = "none";
                addressField.style.display = "block";
            }
        }

        toggleFields();
        isLibrarianCheckbox.addEventListener("change", toggleFields);
    });
</script>
{% endblock %}
